<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>easy®️ store</title>
    <link rel="stylesheet" href="./assets/index.css">
</head>
<body class="theme-default">
    <div class="frame">
        <div class="left">
            <a><b>easy®️ store</b> stable <a id="easy-static-easystoreversion"></a></a>
        </div>
        <div class="right">
            <div class="btn-frame btn-minimize-window" id="easy-action-minimize">_</div>
            <div class="btn-frame btn-close-window" id="easy-action-close"><i class="fa-solid fa-xmark"></i></div>
        </div>
    </div>
    <div class="loader hidden">
        <div class="inner">
            <div class="loading-anim"></div>
            <a class="loading-text">Preparing easy®️ store!</a>
        </div>
    </div>
    <div class="container2 hidden">
        <div class="inner">
            <center>
                <img src="./assets/logo.png" width="100" height="100" alt="easy logo" style="left:0px;"><br>
                <a class="loading-text">You have to login!</a><br><br>
                <a class="btn btn-login" style="cursor:pointer;" onclick="window.electron.login();">Login with <i class="fa-brands fa-github"></i></a>
            </center>
        </div>
    </div>
    <script>
        function checkTheme() {
            if(!localStorage.getItem("currentTheme")) {
                localStorage.setItem("currentTheme", 'default');
            }
            body = document.querySelector("body");
            body.classList.toggle("theme-default");
            body.classList.toggle("theme-" + localStorage.getItem("currentTheme"));
        }
        
        loader = document.querySelector(".loader");
        container = document.querySelector(".container2");

        window.onload = function() {
            versionText = document.getElementById("easy-static-easystoreversion");
            versionText.innerHTML = '1.0.01';

            checkTheme()

            setTimeout(() => {
                loader.classList.toggle("hidden");
                container.classList.toggle("hidden");
            }, 1000);
        }

        minBtn = document.getElementById("easy-action-minimize");
        minBtn.addEventListener("click", function (e) {
            window.electron.minimize();
        });

        closeBtn = document.getElementById("easy-action-close");
        closeBtn.addEventListener("click", function (e) {
            window.electron.close();
        });

        setTimeout(() => {
                loader.classList.toggle("hidden");
        }, 1);

        function login() {
            localStorage.setItem("userData", '{"name":"example","avatar":"https://cdn.discordapp.com/avatars/803159847641284640/a_7a4062bc3a6f586833c30b6e8fb0a052.gif?size=1024"}');
            localStorage.setItem("isLogged", true);
            window.location.href = './index.html';
        }
    </script>
    <script src="https://kit.fontawesome.com/681f16d40f.js" crossorigin="anonymous"></script>
</body>
</html>